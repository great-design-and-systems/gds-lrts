<div auto-height offset="170" layout flex>
    <span flex="35"></span>
    <form role="form" layout="column" ng-submit="createUser.save()">
        <h2>Create user:</h2>
        <h5 ng-if="createUser.errorMessage" class="error">
            {{createUser.errorMessage}}
        </h5>
        <div layout layout-padding="5">
            <md-input-container flex>
                <label>Username</label>
                <input ng-disabled="createUser.isLoading" md-autofocus ng-model="createUser.data.username" required>
            </md-input-container>

            <md-input-container flex>
                <label>Email</label>
                <input ng-disabled="createUser.isLoading" ng-model="createUser.data.email" type="email" required>
            </md-input-container>
        </div>
        <div layout layout-padding="5">
            <md-input-container flex>
                <label>Password</label>
                <input ng-disabled="createUser.isLoading" ng-model="createUser.data.password" type="password" required>
            </md-input-container>

            <md-input-container flex>
                <label>Retry password</label>
                <input ng-disabled="createUser.isLoading" ng-model="createUser.data.password2" type="password" required>
            </md-input-container>
            <span ng-if="(createUser.data.password && createUser.data.password2) && (createUser.data.password != createUser.data.password2)"
                class="error">
                Password did not matched!
            </span>
        </div>
        <div layout layout-padding="5">
            <md-input-container flex>
                <label>Firstname</label>
                <input ng-disabled="createUser.isLoading" ng-model="createUser.data.firstname" required>
            </md-input-container>
            <md-input-container flex>
                <label>Lastname</label>
                <input ng-disabled="createUser.isLoading" ng-model="createUser.data.lastname" required>
            </md-input-container>
        </div>
        <div layout>
            <div ng-if="createUser.isLoading">
                <md-progress-circular md-mode="indeterminate"></md-progress-circular>
            </div>
            <md-button ng-disabled="createUser.isLoading" class="md-primary md-raised" type="submit">Save</md-button>
        </div>
    </form>
</div>